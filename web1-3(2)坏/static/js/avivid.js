function post_coupon_impression(e){has_coupon?(jQuery.ajax({url:"https://atlas.likr.app/api/coupon_impression.php?callback=?",type:"GET",dataType:"jsonp",jsonp:"callback",data:{web_id:AviviD.web_id,url:location.href,type:e},success:function(e){console.log(e)},error:function(e,i,t){console.log("xhr :",e),console.log("ajaxOptions :",i),console.log("thrownError :",t),console.log("status code : "+e.status+" , ajaxOptions : "+i)}}),console.log("has coupon")):console.log("no coupon")}function post_coupon_impression_same(e){has_coupon&&jQuery.ajax({url:"https://atlas.likr.app/api/coupon_impression_same.php?callback=?",type:"GET",dataType:"jsonp",jsonp:"callback",data:{web_id:AviviD.web_id,url:location.href,type:e},success:function(e){console.log(e)},error:function(e,i,t){console.log("xhr :",e),console.log("ajaxOptions :",i),console.log("thrownError :",t),console.log("status code : "+e.status+" , ajaxOptions : "+i)}})}window.AviviD=window.AviviD||{settings:{},status:{}},AviviD.web_id="commonhealth",AviviD.category_id=window.avivid_category_id||"20190626000001",AviviD.tracking_platform="likr";var $jscomp=$jscomp||{};if($jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):$jscomp.arrayIterator(e)},$jscomp.getGlobal=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var i=0;i<e.length;++i){var t=e[i];if(t&&t.Math==Math)return t}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,i,t){e!=Array.prototype&&e!=Object.prototype&&(e[i]=t.value)},$jscomp.polyfill=function(e,i,t,n){if(i){for(t=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in t||(t[o]={}),t=t[o]}e=e[e.length-1],n=t[e],i=i(n),i!=n&&null!=i&&$jscomp.defineProperty(t,e,{configurable:!0,writable:!0,value:i})}},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(e){function i(){this.batch_=null}function t(e){return e instanceof o?e:new o(function(i,t){i(e)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;i.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var i=this;this.asyncExecuteFunction(function(){i.executeBatch_()})}this.batch_.push(e)};var n=$jscomp.global.setTimeout;i.prototype.asyncExecuteFunction=function(e){n(e,0)},i.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var i=0;i<e.length;++i){var t=e[i];e[i]=null;try{t()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},i.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var o=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var i=this.createResolveAndReject_();try{e(i.resolve,i.reject)}catch(e){i.reject(e)}};o.prototype.createResolveAndReject_=function(){function e(e){return function(n){t||(t=!0,e.call(i,n))}}var i=this,t=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},o.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var i=null!=e;break e;case"function":i=!0;break e;default:i=!1}i?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},o.prototype.resolveToNonPromiseObj_=function(e){var i=void 0;try{i=e.then}catch(e){return void this.reject_(e)}"function"==typeof i?this.settleSameAsThenable_(i,e):this.fulfill_(e)},o.prototype.reject_=function(e){this.settle_(2,e)},o.prototype.fulfill_=function(e){this.settle_(1,e)},o.prototype.settle_=function(e,i){if(0!=this.state_)throw Error("Cannot settle("+e+", "+i+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=i,this.executeOnSettledCallbacks_()},o.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)s.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var s=new i;return o.prototype.settleSameAsPromise_=function(e){var i=this.createResolveAndReject_();e.callWhenSettled_(i.resolve,i.reject)},o.prototype.settleSameAsThenable_=function(e,i){var t=this.createResolveAndReject_();try{e.call(i,t.resolve,t.reject)}catch(e){t.reject(e)}},o.prototype.then=function(e,i){function t(e,i){return"function"==typeof e?function(i){try{n(e(i))}catch(e){s(e)}}:i}var n,s,r=new o(function(e,i){n=e,s=i});return this.callWhenSettled_(t(e,n),t(i,s)),r},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.callWhenSettled_=function(e,i){function t(){switch(n.state_){case 1:e(n.result_);break;case 2:i(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?s.asyncExecute(t):this.onSettledCallbacks_.push(t)},o.resolve=t,o.reject=function(e){return new o(function(i,t){t(e)})},o.race=function(e){return new o(function(i,n){for(var o=$jscomp.makeIterator(e),s=o.next();!s.done;s=o.next())t(s.value).callWhenSettled_(i,n)})},o.all=function(e){var i=$jscomp.makeIterator(e),n=i.next();return n.done?t([]):new o(function(e,o){var s=[],r=0;do{s.push(void 0),r++,t(n.value).callWhenSettled_(function(i){return function(t){s[i]=t,0==--r&&e(s)}}(s.length-1),o),n=i.next()}while(!n.done)})},o},"es6","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.SymbolClass=function(e,i){this.$jscomp$symbol$id_=e,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:i})},$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},$jscomp.Symbol=function(){function e(t){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(t||"")+"_"+i++,t)}var i=0;return e}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}}),$jscomp.initSymbolIterator=function(){}},$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.asyncIterator;e||(e=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator")),$jscomp.initSymbolAsyncIterator=function(){}},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),e={next:e},e[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},i={};try{return i.__proto__=e,i.a}catch(e){}return!1},$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,i){if(e.__proto__=i,e.__proto__!==i)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,i){return this.nextAddress=i,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,i){var t=$jscomp.makeIterator(e),n=t.next();if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.yieldAllIterator_=t,this.yield(n.value,i);this.yieldResult=n.value,this.nextAddress=i},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,i){this.catchAddress_=e,void 0!=i&&(this.finallyAddress_=i)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,i){this.nextAddress=e,this.catchAddress_=i||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,i,t){t?this.finallyContexts_[t]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=i||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,i){var t=this.finallyContexts_.splice(i||0)[0];if(t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();void 0!=t.jumpTo&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var i in e)this.properties_.push(i);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var i=this.context_.yieldAllIterator_;return i?this.yieldAllStep_("return"in i?i.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,i,t){try{var n=e.call(this.context_.yieldAllIterator_,i);if($jscomp.generator.ensureIteratorResultIsObject_(n),!n.done)return this.context_.stop_(),n;var o=n.value}catch(e){return this.context_.yieldAllIterator_=null,this.context_.throw_(e),this.nextStep_()}return this.context_.yieldAllIterator_=null,t.call(this.context_,o),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(e){this.next=function(i){return e.next_(i)},this.throw=function(i){return e.throw_(i)},this.return=function(i){return e.return_(i)},$jscomp.initSymbolIterator(),this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,i){var t=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(i));return $jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(t,e.prototype),t},$jscomp.asyncExecutePromiseGenerator=function(e){function i(i){return e.next(i)}function t(i){return e.throw(i)}return new Promise(function(n,o){function s(e){e.done?n(e.value):Promise.resolve(e.value).then(i,t).then(s,o)}s(e.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},function(e,i,t,n){e.jQuery||(e=i.getElementsByTagName(t)[0]||i.getElementsByTagName("head")[0],i=i.createElement(t),i.type="text/javascript",i.src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js",e.parentNode.insertBefore(i,e))}(window,document,"script"),function(e,i,t,n){i.getElementById("avivid_css")||(e=i.getElementsByTagName("head")[0],i=i.createElement("link"),i.id="avivid_css",i.type="text/css",i.rel="stylesheet",i.href="https://avivid.likr.tw/avivid_css/avivid_pseudo_native_subscribe/avivid_pseudo_native_subscribe.css",e.appendChild(i),i.addEventListener("load",function(){AviviD.status.avivid_css=1}))}(window,document),"undefined"==typeof UAParser&&function(e,i){var t={extend:function(e,i){var t,n={};for(t in e)n[t]=i[t]&&0==i[t].length%2?i[t].concat(e[t]):e[t];return n},has:function(e,i){return"string"==typeof e&&-1!==i.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},n=function(e,t){for(var n,o,s,r,a,v,l=0;l<t.length&&!a;){var _=t[l],c=t[l+1];for(n=o=0;n<_.length&&!a;)if(a=_[n++].exec(e))for(s=0;s<c.length;s++)v=a[++o],r=c[s],"object"==typeof r&&0<r.length?2==r.length?this[r[0]]="function"==typeof r[1]?r[1].call(this,v):r[1]:3==r.length?this[r[0]]="function"!=typeof r[1]||r[1].exec&&r[1].test?v?v.replace(r[1],r[2]):i:v?r[1].call(this,v,r[2]):i:4==r.length&&(this[r[0]]=v?r[3].call(this,v.replace(r[1],r[2])):i):this[r]=v||i;l+=2}},o=function(e,n){for(var o in n)if("object"==typeof n[o]&&0<n[o].length){for(var s=0;s<n[o].length;s++)if(t.has(n[o][s],e))return"?"===o?i:o}else if(t.has(n[o],e))return"?"===o?i:o;return e},s={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},r={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/(headlesschrome) ([\w\.]+)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",o,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",t.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",t.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",t.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",o,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",o,{HTC:"APA",Sprint:"Sprint"}],["model",o,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",t.trim],["model",t.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor","Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",t.lowerize],"vendor","model"],[/(android.+)[;\/].+build/i],["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",o,s]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",o,s]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},a=function(e,i){this.name=e,this.version=i},v=function(e){this.architecture=e},l=function(e,i,t){this.vendor=e,this.model=i,this.type=t},_=function(o,s){if("object"==typeof o&&(s=o,o=i),!(this instanceof _))return new _(o,s).getResult();var c=o||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),d=s?t.extend(r,s):r,u=new a,m=new v,p=new l,g=new a,b=new a;return this.getBrowser=function(){return n.call(u,c,d.browser),u.major=t.major(u.version),u},this.getCPU=function(){return n.call(m,c,d.cpu),m},this.getDevice=function(){return n.call(p,c,d.device),p},this.getEngine=function(){return n.call(g,c,d.engine),g},this.getOS=function(){return n.call(b,c,d.os),b},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return c},this.setUA=function(e){return c=e,u=new a,m=new v,p=new l,g=new a,b=new a,this},this};_.VERSION="0.7.14",_.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},_.CPU={ARCHITECTURE:"architecture"},_.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},_.ENGINE={NAME:"name",VERSION:"version"},_.OS={NAME:"name",VERSION:"version"},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports.UAParser=_):"function"==typeof define&&define.amd?e.UAParser=_:e&&(e.UAParser=_);var c=e&&(e.jQuery||e.Zepto);if(void 0!==c){var d=new _;c.ua=d.getResult(),c.ua.get=function(){return d.getUA()},c.ua.set=function(e){d.setUA(e),e=d.getResult();for(var i in e)c.ua[i]=e[i]}}}("object"==typeof window?window:this),window.AviviD&&!document.querySelector("#web_push, #avivid_push_banner")){AviviD.version="v6.5.200310",AviviD.status.debug=window.avivid_debug||0,AviviD.avivid_regid=window.avivid_regid||"_",AviviD.status.avivid_regid=AviviD.avivid_regid,AviviD.avivid_tag=window.avivid_tag||"_",AviviD.status.avivid_tag=AviviD.avivid_tag,AviviD.UAParser=new UAParser,AviviD.UAResult=AviviD.UAParser.getResult(),AviviD.construct=function(e){window.jQuery&&!AviviD.empty(AviviD.uuid)?e():window.jQuery&&"iOS"==AviviD.detect_browser_type()?e():setTimeout(function(){AviviD.construct(e)},50)},AviviD.main=function(){AviviD.set_is_likr(),AviviD.str_os_type=AviviD.detect_os_type(),AviviD.int_os_type=AviviD.trans_os_type_to_number(AviviD.str_os_type),AviviD.str_browser_type=AviviD.detect_browser_type(),AviviD.int_browser_type=AviviD.trans_browser_type_to_number(AviviD.str_browser_type),AviviD.webuserid=AviviD.get_webuserid(),AviviD.client_href=encodeURIComponent(window.location.href),AviviD.ajax_data={web_id:AviviD.web_id,category_id:AviviD.category_id,uuid:AviviD.uuid,webuserid:AviviD.webuserid,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,client_href:window.location.href,version:AviviD.version},AviviD.geolocation={latitude:null,longitude:null,get_interval:1e4},AviviD.get_website_info(),AviviD.time_setting(),AviviD.onpage_enable(),AviviD.waterfall_ready(0),null!=AviviD.get_cookie("AviviD_already_exist")&&AviviD.compensation(),AviviD.visit_again()},AviviD.visit_again=function(){var e=null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0,i=null!=AviviD.get_cookie("AviviD_waterfall_status")?AviviD.get_cookie("AviviD_waterfall_status"):0;if(window.jQuery){if(("1"===e||"1"===i)&&"2"==AviviD.settings.onpage_enable&&"1"==AviviD.settings.is_crescent){var t=(new Date).getTime();AviviD.url_to_uuid("0","0"),window.onunload=function(){var e=((new Date).getTime()-t)/1e3;AviviD.url_to_uuid(e,"1")}}}else setTimeout(function(){AviviD.visit_again()},500)},AviviD.url_to_uuid=function(e,i){jQuery.ajax({url:"https://kangaroo.likr.com.tw/api/visit_record.php",type:"POST",data:{web_id:AviviD.web_id,uuid:AviviD.uuid,client_href:window.location.href,browse_time:e,is_leave:i},success:function(e){AviviD.console(e)},error:function(e,i,t){AviviD.console("xhr :",e),
AviviD.console("ajaxOptions :",i),AviviD.console("thrownError :",t),AviviD.console("status code : "+e.status+" , ajaxOptions : "+i)}})},AviviD.waterfall_ready=function(e){if("function"==typeof AviviD.waterfall_enable)AviviD.waterfall_enable();else{if(100<e)return 0;setTimeout(function(){AviviD.waterfall_ready(e+1)},100)}},AviviD.time_setting=function(){AviviD.in_time=(new Date).getTime(),AviviD.timestamp=0,AviviD.timeout="NaN"!=parseFloat(AviviD.settings.onpage_timeout_cycle).toString()?1e3*AviviD.settings.onpage_timeout_cycle:5e4,AviviD.timeOut={landing:"NaN"!=parseFloat(AviviD.settings.onpage_timeout_first).toString()?AviviD.settings.onpage_timeout_first:50,browsing:"NaN"!=parseFloat(AviviD.settings.onpage_timeout_cycle).toString()?AviviD.settings.onpage_timeout_cycle:50},AviviD.received=0,AviviD.likrTimer={init:function(){AviviD.likr_timer=AviviD.timeOut.landing,$(window).on("keydown mousemove mousedown scroll",function(e){AviviD.likr_timer=AviviD.received%2?AviviD.timeOut.browsing:AviviD.timeOut.landing})},resetTime:function(){AviviD.likr_timer=AviviD.received%2?AviviD.timeOut.browsing:AviviD.timeOut.landing},intervalTrigger:function(e,i){i=void 0===i?null:i,AviviD.intervalTimeoutId=setInterval(function(){0==--AviviD.likr_timer&&e(i)},1e3)},clearTimer:function(){"undefined"!=AviviD.intervalTimeoutId&&clearTimeout(AviviD.intervalTimeoutId)},test:{contentNone:function(){if(void 0===document.getElementsByTagName("h1")[1]){var e=document.createElement("h1");e.innerHTML="廣告預算已使用完畢，沒有廣告素材顯示";var i=document.getElementsByTagName("h1")[0];i.parentNode.insertBefore(e,i.nextSibling)}else document.getElementsByTagName("h1")[1].innerHTML="廣告預算已使用完畢，沒有廣告素材顯示"},countDown:function(){void 0===jQuery("html>h1").html()?jQuery("html").prepend("<h1>推播倒數: "+AviviD.likr_timer+"</h1>"):0<=AviviD.likr_timer?document.getElementsByTagName("h1")[0].innerHTML="推播倒數: "+AviviD.likr_timer:document.getElementsByTagName("h1")[0].innerHTML="觸碰螢幕或</br>將滑鼠移動到視窗內，</br>使推播開始重新倒數。"},pushSuccess:function(){if(void 0===document.getElementsByTagName("h1")[1]){var e=document.createElement("h1");e.innerHTML="推播";var i=document.getElementsByTagName("h1")[0];i.parentNode.insertBefore(e,i.nextSibling)}else document.getElementsByTagName("h1")[1].innerHTML="推播"}}}},AviviD.visibilitychange=function(e){AviviD.likrTimer.clearTimer(),e||(AviviD.likrTimer.resetTime(),AviviD.likrTimer.intervalTrigger(AviviD.onpage_push))},AviviD.onpage_enable=function(){var e=null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0;"0"!=AviviD.settings.onpage_enable&&jQuery(document).ready(function(){AviviD.get_article_title()}),"2"==AviviD.settings.onpage_enable&&"1"==e&&(AviviD.likrTimer.init(),AviviD.page_view(),jQuery(document).ready(function(){window.onfocus=function(){AviviD.visibilitychange(!1)},window.onblur=function(){AviviD.visibilitychange(!0)},AviviD.likrTimer.intervalTrigger(AviviD.onpage_push)}))},AviviD.get_article_title=function(){return AviviD.settings.payment_selector="pixnet"==AviviD.web_id?void 0!=document.body.dataset.articleId?"#article-"+document.body.dataset.articleId+" > h2 > a":"_":AviviD.detect_is_mobile(AviviD.str_os_type)?AviviD.settings.payment_selector_m:AviviD.settings.payment_selector,AviviD.title=null!==document.querySelector(AviviD.settings.payment_selector)?document.querySelector(AviviD.settings.payment_selector).innerHTML:"_",AviviD.title},AviviD.get_urlparam=function(e){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(e),null!=e?unescape(e[2]):null},AviviD.get_uuid=function(){if(AviviD.status.is_new_user_uuid="0",AviviD.get_urlparam("likr_id"))try{var e=window.atob(AviviD.get_urlparam("likr_id"));AviviD.set_cookie("AviviD_uuid",e),AviviD.set_cookie("uuid",e),AviviD.status.is_new_user_uuid="1",AviviD.uuid=e}catch(e){AviviD.set_cookie("AviviD_uuid","")}if(e=AviviD.get_cookie("AviviD_uuid"),!AviviD.empty(e))return e;temp_os=AviviD.detect_browser_type(),e=-1!=document.cookie.indexOf("hasCookiePermission=true"),"iOS"!=temp_os&&"Safari"!=temp_os||e?(window.addEventListener("message",function(e){AviviD.uuid_origin=e.origin,"https://auto-load-balancer.likr.com.tw"===AviviD.uuid_origin&&(e=e.data.split(",")[0],AviviD.set_cookie("AviviD_uuid",e),AviviD.status.is_new_user_uuid="1",AviviD.uuid=e)},!1),e=document.createElement("iframe"),e.src="https://auto-load-balancer.likr.com.tw/pushEndPoint/uuid_gen/uuid_iframe.php",e.style="display:none",document.body?document.body.appendChild(e):setTimeout(function(){AviviD.get_uuid()},500)):(uuid=AviviD.get_ios_uuid(),AviviD.set_cookie("AviviD_uuid",uuid))},AviviD.get_ios_uuid=function(){var e="";return AviviD.status.is_new_user_ios_uuid="0",null==AviviD.get_cookie("AviviD_ios_uuid")?null==localStorage.getItem("AviviD_ios_uuid")?(e=function(){var e=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===i?t:3&t|8).toString(16)})}(),AviviD.status.is_new_user_ios_uuid="1"):e=localStorage.getItem("AviviD_ios_uuid"):e=AviviD.get_cookie("AviviD_ios_uuid"),AviviD.set_cookie("AviviD_ios_uuid",e),localStorage.setItem("AviviD_ios_uuid",e),e},AviviD.get_webuserid=function(){var e=AviviD.get_cookie("webuserid");return AviviD.status.is_new_user_webuserid="0",e||(e=AviviD.gen_webuserid(),AviviD.set_cookie("webuserid",e),AviviD.status.is_new_user_webuserid="1"),e},AviviD.gen_webuserid=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},AviviD.get_website_info=function(){AviviD.settings.is_crescent=localStorage.getItem("avivid_is_crescent"),AviviD.settings.icon_path=localStorage.getItem("avivid_icon_path"),AviviD.settings.string_ring_icon=localStorage.getItem("avivid_string_ring_icon"),AviviD.settings.sw_type=localStorage.getItem("avivid_sw_type"),AviviD.settings.channel_id=localStorage.getItem("avivid_channel_id"),AviviD.settings.push_banner_data_title=localStorage.getItem("avivid_push_banner_data_title"),AviviD.settings.push_banner_data_content=localStorage.getItem("avivid_push_banner_data_content"),AviviD.settings.push_banner_data_interval=localStorage.getItem("avivid_push_banner_data_interval"),AviviD.settings.push_banner_data_position=localStorage.getItem("avivid_push_banner_data_position"),AviviD.settings.ring_position_top=localStorage.getItem("avivid_ring_position_top"),AviviD.settings.ring_position_bottom=localStorage.getItem("avivid_ring_position_bottom"),AviviD.settings.ring_position_left=localStorage.getItem("avivid_ring_position_left"),AviviD.settings.ring_position_right=localStorage.getItem("avivid_ring_position_right"),AviviD.settings.show_ring_after_subscribed=localStorage.getItem("avivid_show_ring_after_subscribed"),AviviD.settings.show_ring=localStorage.getItem("avivid_show_ring"),AviviD.settings.ring_size_height=localStorage.getItem("avivid_ring_size_height"),AviviD.settings.ring_size_width=localStorage.getItem("avivid_ring_size_width"),AviviD.settings.banner_allow_btn=localStorage.getItem("avivid_banner_allow_btn"),AviviD.settings.banner_cancel_btn=localStorage.getItem("avivid_banner_cancel_btn"),AviviD.settings.fb_banner_title=localStorage.getItem("avivid_fb_banner_title"),AviviD.settings.fb_banner_content=localStorage.getItem("avivid_fb_banner_content"),AviviD.settings.fb_banner_icon=localStorage.getItem("avivid_fb_banner_icon"),AviviD.settings.add_ecommerce_listener=localStorage.getItem("avivid_add_ecommerce_listener"),AviviD.settings.string_banner_icon=localStorage.getItem("avivid_string_banner_icon"),AviviD.settings.ring_position_mtop=localStorage.getItem("avivid_ring_position_mtop"),AviviD.settings.ring_position_mbottom=localStorage.getItem("avivid_ring_position_mbottom"),AviviD.settings.ring_position_mleft=localStorage.getItem("avivid_ring_position_mleft"),AviviD.settings.ring_position_mright=localStorage.getItem("avivid_ring_position_mright"),AviviD.settings.show_fb_banner=localStorage.getItem("avivid_show_fb_banner"),AviviD.settings.pc_show_ring=localStorage.getItem("avivid_pc_show_ring"),AviviD.settings.pc_show_banner=localStorage.getItem("avivid_pc_show_banner"),AviviD.settings.mobile_show_ring=localStorage.getItem("avivid_mobile_show_ring"),AviviD.settings.mobile_show_banner=localStorage.getItem("avivid_mobile_show_banner"),AviviD.settings.banner_follow_specify_id=localStorage.getItem("avivid_banner_follow_specify_id"),AviviD.settings.banner_follow_specify_class=localStorage.getItem("avivid_banner_follow_specify_class"),AviviD.settings.banner_inread_class=localStorage.getItem("avivid_banner_inread_class"),AviviD.settings.banner_inread_id=localStorage.getItem("avivid_banner_inread_id"),AviviD.settings.banner_follow_specify_m_id=localStorage.getItem("avivid_banner_follow_specify_m_id"),AviviD.settings.banner_follow_specify_m_class=localStorage.getItem("avivid_banner_follow_specify_m_class"),AviviD.settings.banner_inread_m_class=localStorage.getItem("avivid_banner_inread_m_class"),AviviD.settings.banner_inread_m_id=localStorage.getItem("avivid_banner_inread_m_id"),AviviD.settings.switch_language=localStorage.getItem("avivid_switch_language"),AviviD.settings.ios_enable=localStorage.getItem("avivid_ios_enable"),AviviD.settings.banner_cancel_twice_exp_day=localStorage.getItem("avivid_banner_cancel_twice_exp_day"),AviviD.settings.website_type=localStorage.getItem("avivid_website_type"),AviviD.settings.native_enable=localStorage.getItem("avivid_native_enable"),AviviD.settings.banner_enable=localStorage.getItem("avivid_banner_enable"),AviviD.settings.onpage_enable=localStorage.getItem("avivid_onpage_enable"),AviviD.settings.compensation_enable=localStorage.getItem("avivid_compensation_enable"),AviviD.settings.onpage_timeout_first=localStorage.getItem("avivid_onpage_timeout_first"),AviviD.settings.onpage_timeout_cycle=localStorage.getItem("avivid_onpage_timeout_cycle"),AviviD.settings.track_behavior_enable=localStorage.getItem("avivid_track_behavior_enable"),AviviD.settings.ip_enable=localStorage.getItem("avivid_ip_enable"),AviviD.settings.payment_selector=localStorage.getItem("avivid_payment_selector"),AviviD.settings.payment_selector_m=localStorage.getItem("avivid_payment_selector_m"),AviviD.settings.payment_url=localStorage.getItem("avivid_payment_url"),AviviD.settings.payment_url_m=localStorage.getItem("avivid_payment_url_m"),AviviD.settings.checkout_url=localStorage.getItem("avivid_checkout_url"),AviviD.settings.checkout_url_m=localStorage.getItem("avivid_checkout_url_m"),AviviD.settings.checkout_trigger_class=localStorage.getItem("avivid_checkout_trigger_class"),AviviD.settings.checkout_trigger_class_m=localStorage.getItem("avivid_checkout_trigger_class_m"),AviviD.settings.checkout_data_class=localStorage.getItem("avivid_checkout_data_class"),AviviD.settings.checkout_data_class_m=localStorage.getItem("avivid_checkout_data_class_m"),AviviD.settings.cart_url=localStorage.getItem("avivid_cart_url"),AviviD.settings.cart_url_m=localStorage.getItem("avivid_cart_url_m"),AviviD.settings.cart_data_class=localStorage.getItem("avivid_cart_data_class"),AviviD.settings.cart_data_class_m=localStorage.getItem("avivid_cart_data_class_m"),AviviD.settings.number_url=localStorage.getItem("avivid_number_url"),AviviD.settings.number_url_m=localStorage.getItem("avivid_number_url_m"),AviviD.settings.number_trigger_class=localStorage.getItem("avivid_number_trigger_class"),AviviD.settings.number_trigger_class_m=localStorage.getItem("avivid_number_trigger_class_m"),AviviD.settings.number_data_id=localStorage.getItem("avivid_number_data_id"),AviviD.settings.number_data_id_m=localStorage.getItem("avivid_number_data_id_m"),AviviD.settings.geolocation_enable=localStorage.getItem("avivid_geolocation_enable"),AviviD.settings.pwa_enable=localStorage.getItem("avivid_pwa_enable"),AviviD.settings.console_enable=localStorage.getItem("avivid_console_enable"),AviviD.settings.SENDER_ID=localStorage.getItem("avivid_sender_id"),AviviD.update_time=localStorage.getItem("avivid_update_time"),AviviD.settings.banner_native=localStorage.getItem("avivid_banner_native"),AviviD.empty(AviviD.update_time)?(AviviD.status.update_time="_",AviviD.status.is_update_time_expired=!0):(AviviD.status.update_time=AviviD.convert_timestamp_to_time(AviviD.update_time),6048e5<(new Date).getTime()-AviviD.update_time?AviviD.status.is_update_time_expired=!0:AviviD.status.is_update_time_expired=!1),AviviD.status.is_update_time_expired||AviviD.empty(AviviD.settings.is_crescent)||AviviD.empty(AviviD.settings.icon_path)||AviviD.empty(AviviD.settings.string_ring_icon)||AviviD.empty(AviviD.settings.sw_type)||AviviD.empty(AviviD.settings.channel_id)||AviviD.empty(AviviD.settings.push_banner_data_title)||AviviD.empty(AviviD.settings.push_banner_data_content)||AviviD.empty(AviviD.settings.push_banner_data_interval)||AviviD.empty(AviviD.settings.push_banner_data_position)||AviviD.empty(AviviD.settings.ring_position_top)||AviviD.empty(AviviD.settings.ring_position_bottom)||AviviD.empty(AviviD.settings.ring_position_left)||AviviD.empty(AviviD.settings.ring_position_right)||AviviD.empty(AviviD.settings.show_ring_after_subscribed)||AviviD.empty(AviviD.settings.show_ring)||AviviD.empty(AviviD.settings.fb_banner_title)||AviviD.empty(AviviD.settings.fb_banner_content)||AviviD.empty(AviviD.settings.fb_banner_icon)||AviviD.empty(AviviD.settings.add_ecommerce_listener)||AviviD.empty(AviviD.settings.string_banner_icon)||AviviD.empty(AviviD.settings.ring_position_mtop)||AviviD.empty(AviviD.settings.ring_position_mbottom)||AviviD.empty(AviviD.settings.ring_position_mleft)||AviviD.empty(AviviD.settings.ring_position_mright)||AviviD.empty(AviviD.settings.show_fb_banner)||AviviD.empty(AviviD.settings.pc_show_ring)||AviviD.empty(AviviD.settings.pc_show_banner)||AviviD.empty(AviviD.settings.mobile_show_ring)||AviviD.empty(AviviD.settings.mobile_show_banner)||AviviD.empty(AviviD.settings.banner_follow_specify_id)||AviviD.empty(AviviD.settings.banner_follow_specify_class)||AviviD.empty(AviviD.settings.banner_inread_class)||AviviD.empty(AviviD.settings.banner_inread_id)||AviviD.empty(AviviD.settings.banner_follow_specify_m_id)||AviviD.empty(AviviD.settings.banner_follow_specify_m_class)||AviviD.empty(AviviD.settings.banner_inread_m_class)||AviviD.empty(AviviD.settings.banner_inread_m_id)||AviviD.empty(AviviD.settings.banner_allow_btn)||AviviD.empty(AviviD.settings.banner_cancel_btn)||AviviD.empty(AviviD.settings.ring_size_height)||AviviD.empty(AviviD.settings.ring_size_width)||AviviD.empty(AviviD.settings.ios_enable)||AviviD.empty(AviviD.settings.banner_cancel_twice_exp_day)||AviviD.empty(AviviD.settings.switch_language)||AviviD.empty(AviviD.settings.website_type)||AviviD.empty(AviviD.settings.native_enable)||AviviD.empty(AviviD.settings.banner_enable)||AviviD.empty(AviviD.settings.onpage_enable)||AviviD.empty(AviviD.settings.compensation_enable)||AviviD.empty(AviviD.settings.onpage_timeout_first)||AviviD.empty(AviviD.settings.onpage_timeout_cycle)||AviviD.empty(AviviD.settings.track_behavior_enable)||AviviD.empty(AviviD.settings.ip_enable)||AviviD.empty(AviviD.settings.payment_selector)||AviviD.empty(AviviD.settings.payment_selector_m)||AviviD.empty(AviviD.settings.payment_url)||AviviD.empty(AviviD.settings.payment_url_m)||AviviD.empty(AviviD.settings.checkout_url)||AviviD.empty(AviviD.settings.checkout_url_m)||AviviD.empty(AviviD.settings.checkout_trigger_class)||AviviD.empty(AviviD.settings.checkout_trigger_class_m)||AviviD.empty(AviviD.settings.checkout_data_class)||AviviD.empty(AviviD.settings.checkout_data_class_m)||AviviD.empty(AviviD.settings.cart_url)||AviviD.empty(AviviD.settings.cart_url_m)||AviviD.empty(AviviD.settings.cart_data_class)||AviviD.empty(AviviD.settings.cart_data_class_m)||AviviD.empty(AviviD.settings.number_url)||AviviD.empty(AviviD.settings.number_url_m)||AviviD.empty(AviviD.settings.number_trigger_class)||AviviD.empty(AviviD.settings.number_trigger_class_m)||AviviD.empty(AviviD.settings.number_data_id)||AviviD.empty(AviviD.settings.number_data_id_m)||AviviD.empty(AviviD.settings.geolocation_enable)||AviviD.empty(AviviD.settings.pwa_enable)||AviviD.empty(AviviD.settings.console_enable)||AviviD.empty(AviviD.settings.SENDER_ID)||AviviD.empty(AviviD.settings.banner_native)||"1"==AviviD.settings.banner_native?AviviD.status.do_update=!0:AviviD.status.do_update=!1,AviviD.status.do_update?(JSON.stringify(AviviD.ajax_data),jQuery.ajax({type:"POST",url:"https://avivid.likr.tw/settings_file/"+AviviD.category_id+".csv",credentials:"same-origin",dataType:"text",success:function(e){e=e.split("\n");var i=e[0].split(",");e=e[1].split(",").reduce(function(e,t,n){return e[i[n]]=t,e},{}),"_"==e.sender_id&&(e.sender_id="912321621860"),AviviD.status.get_website_info="1","1"==AviviD.status.get_website_info?(AviviD.settings.is_crescent=e.is_crescent,AviviD.settings.icon_path=e.icon_path,AviviD.settings.string_ring_icon=e.ring_icon,AviviD.settings.sw_type=e.sw_type,AviviD.settings.channel_id=e.channel_id,AviviD.settings.push_banner_data_title=e.banner_title,AviviD.settings.push_banner_data_content=e.banner_content,AviviD.settings.push_banner_data_interval=e.banner_interval_mins,AviviD.settings.push_banner_data_position=e.banner_position,AviviD.settings.ring_position_top=e.ring_position_top,AviviD.settings.ring_position_bottom=e.ring_position_bottom,AviviD.settings.ring_position_left=e.ring_position_left,AviviD.settings.ring_position_right=e.ring_position_right,AviviD.settings.show_ring_after_subscribed=e.ring_display,AviviD.settings.show_ring=e.show_ring,AviviD.settings.ring_size_height=e.ring_size_height,AviviD.settings.ring_size_width=e.ring_size_width,AviviD.settings.banner_allow_btn=e.banner_allow_btn,AviviD.settings.banner_cancel_btn=e.banner_cancel_btn,AviviD.settings.fb_banner_title=e.fb_banner_title,AviviD.settings.fb_banner_content=e.fb_banner_content,AviviD.settings.fb_banner_icon=e.fb_banner_icon,AviviD.settings.add_ecommerce_listener=e.add_ecommerce_listener,AviviD.settings.string_banner_icon=e.banner_icon,AviviD.settings.ring_position_mtop=e.ring_position_mtop,AviviD.settings.ring_position_mbottom=e.ring_position_mbottom,AviviD.settings.ring_position_mleft=e.ring_position_mleft,AviviD.settings.ring_position_mright=e.ring_position_mright,AviviD.settings.show_fb_banner=e.show_fb_banner,AviviD.settings.pc_show_ring=e.pc_show_ring,AviviD.settings.pc_show_banner=e.pc_show_banner,AviviD.settings.mobile_show_ring=e.mobile_show_ring,AviviD.settings.mobile_show_banner=e.mobile_show_banner,AviviD.settings.banner_follow_specify_id=e.banner_follow_specify_id,AviviD.settings.banner_follow_specify_class=e.banner_follow_specify_class,AviviD.settings.banner_inread_class=e.banner_inread_class,AviviD.settings.banner_inread_id=e.banner_inread_id,AviviD.settings.switch_language=e.switch_language,AviviD.settings.banner_follow_specify_m_id=e.banner_follow_specify_m_id,AviviD.settings.banner_follow_specify_m_class=e.banner_follow_specify_m_class,AviviD.settings.banner_inread_m_class=e.banner_inread_m_class,AviviD.settings.banner_inread_m_id=e.banner_inread_m_id,AviviD.settings.ios_enable=e.ios_enable,AviviD.settings.banner_cancel_twice_exp_day=e.banner_click_cancel_twice_interval_days,AviviD.settings.website_type=e.website_type,AviviD.settings.native_enable=e.native_enable,AviviD.settings.banner_enable=e.banner_enable,AviviD.settings.onpage_enable=e.onpage_enable,AviviD.settings.compensation_enable=e.compensation_enable,AviviD.settings.onpage_timeout_first=e.onpage_timeout_first,AviviD.settings.onpage_timeout_cycle=e.onpage_timeout_cycle,AviviD.settings.track_behavior_enable=e.track_behavior_enable,AviviD.settings.ip_enable=e.ip_enable,AviviD.settings.payment_selector=e.payment_selector,AviviD.settings.payment_selector_m=e.payment_selector_m,AviviD.settings.payment_url=e.payment_url,AviviD.settings.payment_url_m=e.payment_url_m,AviviD.settings.checkout_url=e.checkout_url,AviviD.settings.checkout_url_m=e.checkout_url_m,AviviD.settings.checkout_trigger_class=e.checkout_trigger_class,AviviD.settings.checkout_trigger_class_m=e.checkout_trigger_class_m,AviviD.settings.checkout_data_class=e.checkout_data_class,AviviD.settings.checkout_data_class_m=e.checkout_data_class_m,AviviD.settings.cart_url=e.cart_url,AviviD.settings.cart_url_m=e.cart_url_m,AviviD.settings.cart_data_class=e.cart_data_class,AviviD.settings.cart_data_class_m=e.cart_data_class_m,AviviD.settings.number_url=e.number_url,AviviD.settings.number_url_m=e.number_url_m,AviviD.settings.number_trigger_class=e.number_trigger_class,AviviD.settings.number_trigger_class_m=e.number_trigger_class_m,AviviD.settings.number_data_id=e.number_data_id,AviviD.settings.number_data_id_m=e.number_data_id_m,AviviD.settings.geolocation_enable=e.geolocation_enable,AviviD.settings.pwa_enable=e.pwa_enable,AviviD.settings.console_enable=e.console_enable,AviviD.settings.SENDER_ID=e.sender_id,AviviD.settings.banner_native=e.banner_native,AviviD.update_time=(new Date).getTime(),AviviD.status.update_time=AviviD.convert_timestamp_to_time(AviviD.update_time),localStorage.setItem("avivid_is_crescent",AviviD.settings.is_crescent),localStorage.setItem("avivid_icon_path",AviviD.settings.icon_path),localStorage.setItem("avivid_string_ring_icon",AviviD.settings.string_ring_icon),localStorage.setItem("avivid_sw_type",AviviD.settings.sw_type),localStorage.setItem("avivid_channel_id",AviviD.settings.channel_id),localStorage.setItem("avivid_push_banner_data_title",AviviD.settings.push_banner_data_title),localStorage.setItem("avivid_push_banner_data_content",AviviD.settings.push_banner_data_content),localStorage.setItem("avivid_push_banner_data_interval",AviviD.settings.push_banner_data_interval),localStorage.setItem("avivid_push_banner_data_position",AviviD.settings.push_banner_data_position),localStorage.setItem("avivid_ring_position_top",AviviD.settings.ring_position_top),localStorage.setItem("avivid_ring_position_bottom",AviviD.settings.ring_position_bottom),localStorage.setItem("avivid_ring_position_left",AviviD.settings.ring_position_left),localStorage.setItem("avivid_ring_position_right",AviviD.settings.ring_position_right),localStorage.setItem("avivid_show_ring_after_subscribed",AviviD.settings.show_ring_after_subscribed),localStorage.setItem("avivid_show_ring",AviviD.settings.show_ring),localStorage.setItem("avivid_ring_size_height",AviviD.settings.ring_size_height),localStorage.setItem("avivid_ring_size_width",AviviD.settings.ring_size_width),localStorage.setItem("avivid_banner_allow_btn",AviviD.settings.banner_allow_btn),localStorage.setItem("avivid_banner_cancel_btn",AviviD.settings.banner_cancel_btn),localStorage.setItem("avivid_fb_banner_title",AviviD.settings.fb_banner_title),localStorage.setItem("avivid_fb_banner_content",AviviD.settings.fb_banner_content),localStorage.setItem("avivid_fb_banner_icon",AviviD.settings.fb_banner_icon),localStorage.setItem("avivid_add_ecommerce_listener",AviviD.settings.add_ecommerce_listener),localStorage.setItem("avivid_string_banner_icon",AviviD.settings.string_banner_icon),localStorage.setItem("avivid_ring_position_mtop",AviviD.settings.ring_position_mtop),localStorage.setItem("avivid_ring_position_mbottom",AviviD.settings.ring_position_mbottom),localStorage.setItem("avivid_ring_position_mleft",AviviD.settings.ring_position_mleft),localStorage.setItem("avivid_ring_position_mright",AviviD.settings.ring_position_mright),localStorage.setItem("avivid_show_fb_banner",AviviD.settings.show_fb_banner),localStorage.setItem("avivid_pc_show_ring",AviviD.settings.pc_show_ring),localStorage.setItem("avivid_pc_show_banner",AviviD.settings.pc_show_banner),localStorage.setItem("avivid_mobile_show_ring",AviviD.settings.mobile_show_ring),localStorage.setItem("avivid_mobile_show_banner",AviviD.settings.mobile_show_banner),localStorage.setItem("avivid_banner_follow_specify_id",AviviD.settings.banner_follow_specify_id),localStorage.setItem("avivid_banner_follow_specify_class",AviviD.settings.banner_follow_specify_class),localStorage.setItem("avivid_banner_inread_class",AviviD.settings.banner_inread_class),localStorage.setItem("avivid_banner_inread_id",AviviD.settings.banner_inread_id),localStorage.setItem("avivid_banner_follow_specify_m_id",AviviD.settings.banner_follow_specify_m_id),localStorage.setItem("avivid_banner_follow_specify_m_class",AviviD.settings.banner_follow_specify_m_class),localStorage.setItem("avivid_banner_inread_m_class",AviviD.settings.banner_inread_m_class),localStorage.setItem("avivid_banner_inread_m_id",AviviD.settings.banner_inread_m_id),localStorage.setItem("avivid_switch_language",AviviD.settings.switch_language),localStorage.setItem("avivid_ios_enable",AviviD.settings.ios_enable),localStorage.setItem("avivid_banner_cancel_twice_exp_day",AviviD.settings.banner_cancel_twice_exp_day),localStorage.setItem("avivid_website_type",AviviD.settings.website_type),localStorage.setItem("avivid_native_enable",AviviD.settings.native_enable),localStorage.setItem("avivid_banner_enable",AviviD.settings.banner_enable),localStorage.setItem("avivid_onpage_enable",AviviD.settings.onpage_enable),localStorage.setItem("avivid_compensation_enable",AviviD.settings.compensation_enable),localStorage.setItem("avivid_onpage_timeout_first",AviviD.settings.onpage_timeout_first),localStorage.setItem("avivid_onpage_timeout_cycle",AviviD.settings.onpage_timeout_cycle),localStorage.setItem("avivid_track_behavior_enable",AviviD.settings.track_behavior_enable),localStorage.setItem("avivid_ip_enable",AviviD.settings.ip_enable),localStorage.setItem("avivid_payment_selector",AviviD.settings.payment_selector),localStorage.setItem("avivid_payment_selector_m",AviviD.settings.payment_selector_m),localStorage.setItem("avivid_payment_url",AviviD.settings.payment_url),localStorage.setItem("avivid_payment_url_m",AviviD.settings.payment_url_m),localStorage.setItem("avivid_checkout_url",AviviD.settings.checkout_url),localStorage.setItem("avivid_checkout_url_m",AviviD.settings.checkout_url_m),localStorage.setItem("avivid_checkout_trigger_class",AviviD.settings.checkout_trigger_class),localStorage.setItem("avivid_checkout_trigger_class_m",AviviD.settings.checkout_trigger_class_m),localStorage.setItem("avivid_checkout_data_class",AviviD.settings.checkout_data_class),localStorage.setItem("avivid_checkout_data_class_m",AviviD.settings.checkout_data_class_m),localStorage.setItem("avivid_cart_url",AviviD.settings.cart_url),localStorage.setItem("avivid_cart_url_m",AviviD.settings.cart_url_m),localStorage.setItem("avivid_cart_data_class",AviviD.settings.cart_data_class),localStorage.setItem("avivid_cart_data_class_m",AviviD.settings.cart_data_class_m),localStorage.setItem("avivid_number_url",AviviD.settings.number_url),localStorage.setItem("avivid_number_url_m",AviviD.settings.number_url_m),localStorage.setItem("avivid_number_trigger_class",AviviD.settings.number_trigger_class),localStorage.setItem("avivid_number_trigger_class_m",AviviD.settings.number_trigger_class_m),localStorage.setItem("avivid_number_data_id",AviviD.settings.number_data_id),localStorage.setItem("avivid_number_data_id_m",AviviD.settings.number_data_id_m),localStorage.setItem("avivid_geolocation_enable",AviviD.settings.geolocation_enable),localStorage.setItem("avivid_pwa_enable",AviviD.settings.pwa_enable),localStorage.setItem("avivid_console_enable",AviviD.settings.console_enable),localStorage.setItem("avivid_sender_id",AviviD.settings.SENDER_ID),localStorage.setItem("avivid_update_time",AviviD.update_time),localStorage.setItem("avivid_banner_native",AviviD.settings.banner_native),AviviD.switch_show_mode()):AviviD.console("AviviD get_website_info : status => "+e.status+", resText => "+e.resText)},error:function(e,i,t){AviviD.console("jqXHR :",e),AviviD.console("textStatus :",i),AviviD.console("errorThrown :",t)}})):(AviviD.status.get_website_info="0",AviviD.switch_show_mode())},AviviD.switch_show_mode=function(){AviviD.status.is_push_supported=AviviD.detect_is_push_supported(),"0"==AviviD.settings.ios_enable&&"2"==AviviD.int_os_type?AviviD.console("AviviD : iOS is disabled."):"1"===AviviD.settings.native_enable?AviviD.webpush_scheme_native():"1"===AviviD.settings.banner_enable&&(AviviD.status.is_push_supported?"5"!=AviviD.int_browser_type&&"6"!=AviviD.int_browser_type&&AviviD.banner_old():AviviD.console("Your Browser is not supported Push Notification"))},AviviD.detect_is_push_supported=function(){var e=AviviD.UAResult;/(ipod|iphone|ipad)/i.test(e.ua),/(mac os)/i.test(e.os.name);var i=/chrome/i.test(e.browser.name),t=/firefox/i.test(e.browser.name);/safari/i.test(e.browser.name),/(Trident|MSIE)/i.test(e.ua),/line/i.test(e.ua),!/like android/i.test(e.ua)&&/android/i.test(e.ua),/edge/i.test(e.ua);var n=/Samsung/i.test(e.browser.name),o="fcm"===AviviD.settings.sw_type?50:49;return i?e.browser.version.split(".",4)[0]<o&&(i=0):t&&44>e.browser.version.split(".",4)[0]&&(t=0),!!(i||t||n)},AviviD.protocol_firebase_accept=function(){return"http:"!=location.protocol},AviviD.webpush_scheme_native=function(){sw_series_browser=["Chrome","Firefox","Samsung Browser"],AviviD.in_array(AviviD.str_browser_type,sw_series_browser)?(AviviD.debugLog("sw_series_browser:",AviviD.str_browser_type),AviviD.protocol_firebase_accept()&&AviviD.loadFirebase()):"Safari"==AviviD.str_browser_type?"1"!=AviviD.status.subscribe_status?(AviviD.debugLog("apns:",AviviD.str_browser_type),"2"==AviviD.settings.banner_native?"1"!=AviviD.get_cookie("AviviD_already_exist")&&AviviD.safari_banner_subscribe(AviviD.settings.string_banner_icon,AviviD.settings.push_banner_data_title,AviviD.settings.push_banner_data_content,AviviD.settings.banner_allow_btn,AviviD.settings.banner_cancel_btn):AviviD.regSafari()):(AviviD.debugLog("apns:",AviviD.str_browser_type),AviviD.debugLog("regSafari:","Subscribed"),AviviD.requestGeolocation()):AviviD.debugLog("AviviD: this browser is not supported push notification")},AviviD.empty=function(e){if("number"==typeof e||"boolean"==typeof e)return!1;if("null"===e||"undefined"===e||void 0===e||null===e)return!0;if(void 0!==e.length)return 0==e.length;var i,t=0;for(i in e)e.hasOwnProperty(i)&&t++;return 0==t},AviviD.get_top_domain=function(){var e=window.location.hostname;if(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(e))return e;var i=e.split(".").length,t=e.split(".").reverse();return"2">=i?e:"3"==i?"com"===t[1]?e:t[1]+"."+t[0]:"4"==i&&"com"===t[0]?t[1]+"."+t[0]:t[2]+"."+t[1]+"."+t[0]},AviviD.set_cookie=function(e,i,t){var n=AviviD.get_top_domain();t=t||3650;var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=e+"="+escape(i)+";expires="+o.toGMTString()+";domain="+n+";path=/"},AviviD.set_cookie_minutes=function(e,i,t){var n=AviviD.get_top_domain();t=t||60;var o=new Date;o.setTime(o.getTime()+6e4*t),document.cookie=e+"="+escape(i)+";expires="+o.toGMTString()+";domain="+n+";path=/"},AviviD.set_cookie_days=function(e,i,t){var n=AviviD.get_top_domain();t=t||30;var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=e+"="+escape(i)+";expires="+o.toGMTString()+";domain="+n+";path=/"},AviviD.get_cookie=function(e){return e=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)")),null!=e?unescape(e[2]):null},AviviD.delete_cookie=function(e){var i=new Date;i.setTime(i.getTime()-1);var t=AviviD.get_cookie(e);null!=t&&(document.cookie=e+"="+t+";expires="+i.toGMTString())},AviviD.detect_os_type=function(){return AviviD.UAResult.os.name},AviviD.trans_os_type_to_number=function(e){switch(e){case"Android":return"1";case"iOS":return"2";case"Mac OS":return"3";case"Windows":return"4";default:return"9"}},AviviD.trans_browser_type_to_number=function(e){switch(e){case"Chrome":return"1";case"Firefox":return"2";case"Safari":return"3";case"iOS":return"4";case"IE":return"5";case"Edge":return"6";case"Samsung Browser":return"8";case"LINE":return"10";case"weixin":return"11";case"fbapp":return"12";case"Instagram":return"13";case"Opera":return"14";default:return"9"}},
AviviD.detect_browser_type=function(){var e=null!=navigator.userAgent.match(/line/i),i="iOS"==AviviD.UAResult.os.name,t="micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i),n=-1<navigator.userAgent.indexOf("FBAV")||-1<navigator.userAgent.indexOf("FBSV"),o=-1<navigator.userAgent.indexOf("Instagram");return isOpera=-1<navigator.userAgent.indexOf("Opera")||-1<navigator.userAgent.indexOf("OPR"),e?"LINE":i?"iOS":t?"weixin":n?"fbapp":o?"Instagram":isOpera?"Opera":AviviD.UAResult.browser.name},AviviD.convert_timestamp_to_time=function(e){var i=function(e,t){return e.length>=t?e:i("0"+e,t)};return e=new Date(Number(e)),e.getFullYear().toString()+"/"+i((e.getMonth()+1).toString(),2)+"/"+i(e.getDate().toString(),2)+" "+i(e.getHours().toString(),2)+":"+i(e.getMinutes().toString(),2)+":"+i(e.getSeconds().toString(),2)},AviviD.detect_is_mobile=function(e){return"Android"==e||"iOS"==e},AviviD.detect_is_numeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},AviviD.in_array=function(e,i){for(var t=i.length,n=0;n<t;n++)if(i[n]==e)return!0;return!1},AviviD.console=function(e,i){"1"==AviviD.settings.console_enable&&console.log(e,void 0===i?"":i)},AviviD.loadFirebase=function(){var e=function(){window.firebase?AviviD.firebaseInit():function(e,i,t,n){e=i.getElementsByTagName(t)[0]||i.getElementsByTagName("head")[0];var o=i.createElement(t);o.type="text/javascript",o.src=n,e.parentNode.insertBefore(o,e),o.addEventListener("load",function e(){o.removeEventListener("load",e,!1),AviviD.firebaseInit()},!1)}(window,document,"script",i)};if(navigator.serviceWorker.controller)if(navigator.serviceWorker.controller.scriptURL.match(/.*\/firebase-messaging-sw.js$/))if("1"==AviviD.settings.pwa_enable){var i="https://avivid.likr.tw/pushEndPoint/js/firebasejs/4.1.3/firebase.js";window.addEventListener("beforeinstallprompt",AviviD.registerPWAEvent),e()}else i="https://www.gstatic.com/firebasejs/4.1.3/firebase.js",navigator.serviceWorker.getRegistration().then(function(i){i.unregister(),AviviD.status.subscribe_status="0",e()});else i="https://www.gstatic.com/firebasejs/4.1.3/firebase.js",e();else navigator.serviceWorker.getRegistrations().then(function(t){var n=0,o=null;if("1"!=AviviD.settings.pwa_enable)n=2;else{t=$jscomp.makeIterator(t);for(var s=t.next();!s.done;s=t.next())s=s.value,s.scope.match(/.*\/firebase-cloud-messaging-push-scope$/)?(n|=1,o=s):s.scope.match(/.*\/$/)&&(n|=2)}switch(n){case 0:case 1:o&&o.unregister(),i="https://avivid.likr.tw/pushEndPoint/js/firebasejs/4.1.3/firebase.js",AviviD.status.subscribe_status="0",window.addEventListener("beforeinstallprompt",AviviD.registerPWAEvent);break;case 2:case 3:i="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"}e()})},AviviD.registerPWAEvent=function(e){e.prompt(),e.userChoice.then(function(e){"accepted"===e.outcome?AviviD.console("User accepted the A2HS prompt"):AviviD.console("User dismissed the A2HS prompt")})},AviviD.firebaseInit=function(){AviviD.firebaseApp=firebase.initializeApp({messagingSenderId:AviviD.settings.SENDER_ID},"AviviD"),AviviD.console("AviviD.firebaseApp Init: "+AviviD.firebaseApp.name),AviviD.messaging=AviviD.firebaseApp.messaging(),"1"!=AviviD.status.subscribe_status?"0"==AviviD.settings.banner_native||"2"==AviviD.settings.banner_native?0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?AviviD.requestPermissionFCM():AviviD.console("AviviD token exist"):"1"==AviviD.settings.banner_native&&"1"!=AviviD.get_cookie("AviviD_already_exist")&&AviviD.bannerPermission():(AviviD.console("AviviD.firebaseApp : Subscribed."),AviviD.requestGeolocation()),AviviD.messaging.onMessage(function(e){AviviD.console("Message received. ",e);var i=e.data;navigator.serviceWorker.getRegistrations().then(function(e){if(AviviD.console("getRegistrations :",e),e){var t=e[0];AviviD.console("useServiceWorker :",t),AviviD.messaging.getToken().then(function(e){var n,o,s;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){return 1==r.nextAddress?e?(AviviD.console("currentToken : "+e),r.yield(AviviD.getNotificationData(e,i),3)):(console.error("getToken: No Instance ID token available. Request permission to generate one."),r.return()):(n=r.yieldResult,AviviD.console("pushData : ",n),AviviD.verifyMessage(i)?(o={web_id:i.web_id,category_id:i.category_id,token:e,push_id:i.push_id,msg_source:i.msg_source,sw_source:self.location.origin},s=AviviD.createUrlObject("https://load-balancer.likr.com.tw/pushServer/impression_log_receiver.php",o),AviviD.console("IMPRESSION_LOG_RECIEVER urlObject :",s),fetch(s).then(function(e){if(200!==e.status)throw Error("IMPRESSION_LOG_RECIEVER error code: "+e.status);return AviviD.console("IMPRESSION_LOG_RECIEVER res:",e)}).catch(function(e){return console.error("IMPRESSION_LOG_RECIEVER error:",e)})):console.error("Message: Missing Parameters."),"_"!=n.title?r.return(t.showNotification(n.title,n.content)):r.return())})}).catch(function(e){console.error("getToken :",e)})}})})},AviviD.requestPermissionFCM=function(){AviviD.messaging.requestPermission().then(function(){AviviD.console("Notification permission granted."),AviviD.messaging.getToken().then(function(e){if(e){var i=AviviD.UAResult;e={web_id:AviviD.web_id,token:e,category_id:AviviD.category_id,avivid_regid:AviviD.avivid_regid,webuserid:AviviD.webuserid,uuid:AviviD.uuid,reg_source:"native",sw_type:"fcm",browser_ver:i.browser.version,os_ver:i.os.version,user_agent:i.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,avivid_tag:AviviD.avivid_tag},AviviD.console("FCM Register send:",e),jQuery.ajax({url:"https://auto-load-balancer.likr.com.tw/pushServer/endPointReg_v2.php",type:"POST",data:e,dataType:"json",success:function(e){AviviD.console("FCM Register res:",e),e.is_insert_success&&(AviviD.set_cookie("AviviD_already_exist","1"),e=e.resText.split("#"),e[1]&&AviviD.set_cookie("sub_to",e[1]))},error:function(e,i,t){AviviD.console("xhr :",e),AviviD.console("ajaxOptions :",i),AviviD.console("thrownError :",t),AviviD.console("status code : "+e.status+" , ajaxOptions : "+i)}}),jQuery.ajax({url:"https://auto-load-balancer.likr.com.tw/pushServer/endPointReg_v3.php",type:"POST",data:e,success:function(e){},error:function(e,i,t){AviviD.console("xhr :",e),AviviD.console("ajaxOptions :",i),AviviD.console("thrownError :",t),AviviD.console("status code : "+e.status+" , ajaxOptions : "+i)}})}else AviviD.console("No Instance ID token available. Request permission to generate one.");AviviD.requestGeolocation()}).catch(function(e){AviviD.console("An error occurred while retrieving token. ",e)})}).catch(function(e){AviviD.console("Unable to get permission to notify.",e),AviviD.requestGeolocation(),AviviD.compensation()})},AviviD.requestGeolocation=function(){"1"==AviviD.settings.geolocation_enable&&navigator&&navigator.geolocation&&setTimeout(function(){navigator.geolocation.watchPosition(function(e){AviviD.geolocation.latitude=e.coords.latitude,AviviD.geolocation.longitude=e.coords.longitude})},AviviD.geolocation.get_interval)},AviviD.regSafari=function(){if("safari"in window&&"pushNotification"in window.safari){var e=AviviD.web_id,i=AviviD.UAResult,t="web.tw.com.likr."+e,n={domainName:e},o=function(e){"default"===e.permission?(window.safari.pushNotification.requestPermission("https://www.likr.com.tw/pushosx",t,n,o),AviviD.console("訊息通知狀態：預設"),AviviD.console("regSafari: ",e)):"denied"===e.permission?(AviviD.console("訊息通知狀態：封鎖"),AviviD.set_cookie("AviviD_already_exist","1")):"granted"===e.permission&&(AviviD.console("訊息通知狀態：允許"),AviviD.set_cookie("AviviD_already_exist","1"),e=e.deviceToken,localStorage.setItem("avivid_safari_token",e),AviviD.console("The user granted, with token: "+e),e={web_id:AviviD.web_id,token:e,category_id:AviviD.category_id,avivid_regid:AviviD.avivid_regid,webuserid:AviviD.webuserid,uuid:AviviD.uuid,reg_source:"native",sw_type:"safari",browser_ver:i.browser.version,os_ver:i.os.version,user_agent:i.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,avivid_tag:AviviD.avivid_tag},AviviD.console("regSafari Register send:",e),jQuery.ajax({url:"https://load-balancer.likr.com.tw/pushServer/endPointReg_v2.php",type:"POST",data:e,success:function(e){AviviD.console("regSafari Register res:",e)},error:function(e,i,t){AviviD.console("xhr :",e),AviviD.console("ajaxOptions :",i),AviviD.console("thrownError :",t),AviviD.console("status code : "+e.status+" , ajaxOptions : "+i)}})),AviviD.requestGeolocation()};e=window.safari.pushNotification.permission(t),o(e)}},AviviD.debugLog=function(e,i){AviviD.status.debug&&AviviD.console(e,i||"")},AviviD.isHasActionButton=function(e){return"object"!=typeof e?0:e.button1_url||e.button2_url?1:0},AviviD.verifyMessage=function(e){return e.web_id&&e.push_id&&e.msg_source?1:0},AviviD.getNotificationData=function(e,i){var t,n,o,s,r,a,v,l,_,c,d,u,m,p,g,b,A,D,w,f,h,y,x,k,S,I,j;return $jscomp.asyncExecutePromiseGeneratorProgram(function(E){switch(E.nextAddress){case 1:if(t={title:"_",content:{body:"點擊觀看更多資訊",icon:"https://www.likr.com.tw/pushEndPoint/images/avivid/image/icon.png",requireInteraction:!0,data:{click_url:"https://www.likr.com.tw/",web_id:AviviD.web_id,token:e,push_id:"",msg_source:"error"}}},!i.push_id)return console.error("notificationDataError: data.push_id not existed, use defaultData."),E.return(t);switch(n=i.dynamic_type){case"1":return E.jumpTo(2);case"2":return E.jumpTo(3);case"3":return E.jumpTo(4);case"4":return E.jumpTo(5);default:o={},o.title=i.title?i.title:t.title,s={},s.body=i.body?i.body:t.content.body,s.icon=i.icon?i.icon:t.content.icon,s.image=i.image?i.image:"",s.requireInteraction="false"!=i.requireInteraction,s.renotify="true"==i.renotify,s.silent="true"==i.silent,s.tag=i.tag?i.tag:"",s.data={web_id:i.web_id?i.web_id:AviviD.web_id,category_id:i.category_id?i.category_id:"",token:e,push_id:i.push_id,click_url:i.click_url?i.click_url:t.content.data.click_url,button1_url:i.button1_url,button2_url:i.button2_url,msg_source:i.msg_source},r=[],i.button1_title&&r.push({action:"button1",title:i.button1_title,icon:i.button1_icon?i.button1_icon:""}),i.button2_title&&r.push({action:"button2",title:i.button2_title,icon:i.button2_icon?i.button2_icon:""})}E.jumpTo(6);break;case 2:return a={push_id:i.push_id,token:e,dynamic_type:i.dynamic_type},o={},v=i.news_url,l=AviviD.createUrlObject(v,a),_=fetch(l).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),E.yield(_,7);case 7:c=E.yieldResult,d=c.title,u=c.msg,m=c.icon,p=c.image,g=c.click_url,b=c.button1_url,A=c.button2_url,D=c.button1_title?c.button1_title:"",w=c.button1_icon?c.button1_icon:"",f=c.button2_title?c.button2_title:"",h=c.button2_icon?c.button2_icon:"",o.title=d||t.title,s={},s.body=u||t.content.body,s.icon=m||t.content.icon,s.image=p||"",s.requireInteraction="false"!=i.requireInteraction,s.renotify="true"==i.renotify,s.silent="true"==i.silent,s.tag=i.tag?i.tag:"",s.data={web_id:i.web_id?i.web_id:AviviD.web_id,category_id:i.category_id?i.category_id:"",token:e,push_id:i.push_id,click_url:g||t.content.data.click_url,button1_url:b,button2_url:A,msg_source:i.msg_source},r=[],D&&r.push({action:"button1",title:D,icon:w||""}),f&&r.push({action:"button2",title:f,icon:h||""}),E.jumpTo(6);break;case 3:return a={push_id:i.push_id,token:e,dynamic_type:i.dynamic_type},o={},y=i.ads_url,x=AviviD.createUrlObject(y,a),_=fetch(x).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),E.yield(_,8);case 8:c=E.yieldResult,d=c.title,u=c.msg,m=c.icon,p=c.image,g=c.click_url,b=c.button1_url,A=c.button2_url,D=c.button1_title?c.button1_title:"",w=c.button1_icon?c.button1_icon:"",f=c.button2_title?c.button2_title:"",h=c.button2_icon?c.button2_icon:"",o.title=d||t.title,s={},s.body=u||t.content.body,s.icon=m||t.content.icon,s.image=p||"",s.requireInteraction="false"!=i.requireInteraction,s.renotify="true"==i.renotify,s.silent="true"==i.silent,s.tag=i.tag?i.tag:"",s.data={web_id:i.web_id?i.web_id:AviviD.web_id,category_id:i.category_id?i.category_id:"",token:e,push_id:i.push_id,click_url:g||t.content.data.click_url,button1_url:b,button2_url:A,msg_source:i.msg_source},r=[],D&&r.push({action:"button1",title:D,icon:w||""}),f&&r.push({action:"button2",title:f,icon:h||""}),E.jumpTo(6);break;case 4:return a={push_id:i.push_id,token:e,dynamic_type:i.dynamic_type},o={},y=i.ads_url,x=AviviD.createUrlObject(y,a),k=fetch(x).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),E.yield(k,9);case 9:S=E.yieldResult,p=S.image,b=S.click_url,A=S.click_url2,D=S.title?S.title:"",w="",f=S.title2?S.title2:"",h="",o.title=i.title?i.title:t.title,s={},s.body=i.body?i.body:t.content.body,s.icon=i.icon?i.icon:t.content.icon,s.image=p||"",s.requireInteraction="false"!=i.requireInteraction,s.renotify="true"==i.renotify,s.silent="true"==i.silent,s.tag=i.tag?i.tag:"",s.data={web_id:i.web_id?i.web_id:AviviD.web_id,category_id:i.category_id?i.category_id:"",token:e,push_id:i.push_id,click_url:i.click_url?i.click_url:t.content.data.click_url,button1_url:b,button2_url:A,msg_source:i.msg_source},r=[],D&&r.push({action:"button1",title:D,icon:w||""}),f&&r.push({action:"button2",title:f,icon:h||""}),E.jumpTo(6);break;case 5:return a={push_id:i.push_id,token:e,dynamic_type:i.dynamic_type},o={},v=i.news_url,l=AviviD.createUrlObject(v,a),I=fetch(l).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),E.yield(I,10);case 10:return j=E.yieldResult,y=i.ads_url,x=AviviD.createUrlObject(y,a),k=fetch(x).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),E.yield(k,11);case 11:S=E.yieldResult,d=j.title,u=j.msg,m=j.icon,p=S.image,g=j.click_url,b=S.click_url,A=S.click_url2,D=S.title?S.title:"",w="",f=S.title2?S.title2:"",h="",o.title=d||t.title,s={},s.body=u||t.content.body,s.icon=m||t.content.icon,s.image=p||"",s.requireInteraction="false"!=i.requireInteraction,s.renotify="true"==i.renotify,s.silent="true"==i.silent,s.tag=i.tag?i.tag:"",s.data={web_id:i.web_id?i.web_id:AviviD.web_id,category_id:i.category_id?i.category_id:"",token:e,push_id:i.push_id,click_url:g||t.content.data.click_url,button1_url:b,button2_url:A,msg_source:i.msg_source},r=[],D&&r.push({action:"button1",title:D,icon:w||""}),f&&r.push({action:"button2",title:f,icon:h||""}),E.jumpTo(6);break;case 6:return 0<r.length&&(s.actions=r),s.image||delete s.image,o.content=s,E.return(o)}})},AviviD.createUrlObject=function(e,i){var t=new URL(e);return Object.keys(i).forEach(function(e){return t.searchParams.append(e,i[e])}),t},AviviD.send_shopping_information=function(e,i){var t={shopping_type:e,web_id:AviviD.web_id,uuid:AviviD.uuid,shopping_info:i,category_id:AviviD.category_id,is_likr:AviviD.get_cookie("is_likr"),AviviD_cid:AviviD.get_cookie("AviviD_cid")};t=JSON.stringify(t),jQuery.ajax({type:"POST",data:{data:t},url:"https://elephant.likr.com.tw/elephant_api/php_redis_shopping.php",dataType:"json",success:function(e){},error:function(e,i,t){}})},AviviD.set_is_likr=function(){if(AviviD.get_urlparam("is_likr")){var e=AviviD.get_top_domain();e="is_likr="+AviviD.get_urlparam("is_likr")+";domain="+e+";path=/",document.cookie=e}},AviviD.set_token_subscribe=function(e){0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?AviviD.get_cookie("AviviD_token")?AviviD.console("repeat"):(AviviD.set_cookie("AviviD_token",e),jQuery.ajax({type:"POST",data:{token:e,web_id:AviviD.web_id,category_id:AviviD.category_id,uuid:AviviD.uuid,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,ip:void 0!=AviviD.clientIP?AviviD.clientIP:"_",browser_ver:AviviD.UAResult.browser.version,os_ver:AviviD.UAResult.os.version,detect:AviviD.UAResult.ua,client_href:JSON.stringify(window.location.href)},url:"https://webpush-api02.likr.com.tw/pushServer/insert_subscribe_token.php",success:function(e){AviviD.console(e),AviviD.set_cookie("AviviD_already_exist","1")},error:function(e,i,t){AviviD.console("jqXHR :",e),AviviD.console("textStatus :",i),AviviD.console("errorThrown :",t)}})):AviviD.console("token exist")},AviviD.bannerPermission=function(){AviviD.banner_subscribe(AviviD.settings.string_banner_icon,AviviD.settings.push_banner_data_title,AviviD.settings.push_banner_data_content,AviviD.settings.banner_allow_btn,AviviD.settings.banner_cancel_btn)},AviviD.safari_banner_subscribe=function(e,i,t,n,o){jQuery("head").append('<style type="text/css">.avivid_push_banner{top: 50px;left: 30%;padding: 20px 20px;box-shadow: 0 1px 2px gray;color: #222;position: fixed;z-index: 999999;width: 400px;height: 130px;border:1px #AAAAAA;background-color:#f0f0f0;-webkit-box-sizing:revert;-moz-box-sizing:revert;box-sizing:revert;}</style>'),jQuery("head").append('<style type="text/css">.avivid_icon{height: 100px; width:100px;}</style>'),jQuery("head").append('<style type="text/css">.avivid_button_1{position: relative;bottom: -30px;left:200px;width:100px;height:30px;font-family:DFKai-sb;font-size:16px;font-weight:bold;border-radius:10px;background-color:#0066FF;color: white;outline:none;}</style>'),jQuery("head").append('<style type="text/css">.avivid_button_2{position: relative;bottom: -30px;left:-10px;width:100px;height:30px;font-family:DFKai-sb;font-size:16px;font-weight:bold;border-radius:10px;background-color:#f0f0f0;color: black;outline:none;}</style>'),jQuery("head").append('<style type="text/css">.avivid_title{position: relative;left:120px;top:-140px;word-break:break-all;width:280px;font-weight:bold;font-family:DFKai-sb;}'),jQuery("head").append('<style type="text/css">.avivid_content{position: relative;left:120px;top:-130px;word-break:break-all;width:280px;font-family:DFKai-sb;}');var s=document.createElement("div");s.setAttribute("id","avivid_requestPermission"),s.setAttribute("class","avivid_push_banner"),s.style.display="block";var r=document.createElement("img");r.setAttribute("class","avivid_icon"),r.setAttribute("src",e),e=document.createElement("input"),e.setAttribute("class","avivid_button_1"),e.setAttribute("type","button"),e.setAttribute("onclick","AviviD.trigger_safari_requestPermission('access')"),e.setAttribute("value",n),n=document.createElement("input"),n.setAttribute("class","avivid_button_2"),n.setAttribute("type","button"),n.setAttribute("onclick","AviviD.trigger_safari_requestPermission('denied')"),n.setAttribute("value",o),o=document.createElement("p"),o.setAttribute("style","bottom: 0px; font-size: 10px;"),o.innerHTML="Powered by likr®";var a=document.createElement("p");a.setAttribute("class","avivid_title"),a.innerHTML=i,i=document.createElement("p"),i.setAttribute("class","avivid_content"),i.innerHTML=t,AviviD.console(s),AviviD.console(document.body),document.body.appendChild(s),s.appendChild(r),s.appendChild(e),s.appendChild(n),s.appendChild(o),s.appendChild(a),s.appendChild(i)},AviviD.banner_subscribe=function(e,i,t,n,o){jQuery("head").append('<style type="text/css">.avivid_push_banner{top: 0;left: 40%;padding: 20px 20px;;box-shadow: 0 1px 3px gray;color: #222;position: fixed;z-index: 999999;width: 400px;height: 150px;border:1px #AAAAAA solid;background-color:#DDDDDD;}@media(max-width: 480px){.avivid_push_banner{top: 68%;left: 4%;padding: 20px 20px;;box-shadow: 0 1px 3px gray;color: #222;position: fixed;z-index: 999999;width: 290px;height: 130px;border:1px #AAAAAA solid;background-color:#DDDDDD;}}</style>'),jQuery("head").append('<style type="text/css">.avivid_icon{height: 100px; width:100px;} </style>'),jQuery("head").append('<style type="text/css">.avivid_button_1{position: relative;bottom: -50px;left:200px;width:100px;background-color:#0066FF;color: white;outline:none;}@media(max-width: 480px){.avivid_button_1{position: relative;bottom: 0px;left:0px;width:110px;background-color:#0066FF;color: white;outline:none;}}</style>'),jQuery("head").append('<style type="text/css">.avivid_button_2{position: relative;bottom: -50px;left:-10px;width:100px;background-color:#FFFFFF;color: black;outline:none;}@media(max-width: 480px){.avivid_button_2{position: relative;bottom: -30px;left:-90px;width:70px;background-color:#FFFFFF;color: black;outline:none;}}</style>'),jQuery("head").append('<style type="text/css">.avivid_title{position: relative;left:100px;top:-140px;word-break:break-all;width:280px;}@media (max-width: 480px){.avivid_title{position: relative;left:100px;top:-140px;word-break:break-all;width:200px;}}'),jQuery("head").append('<style type="text/css">.avivid_content{position: relative;left:100px;top:-130px;word-break:break-all;width:280px;}@media (max-width: 480px){.avivid_content{position: relative;left:100px;top:-150px;word-break:break-all;width:200px;}}');var s=document.createElement("div");s.setAttribute("id","avivid_requestPermission"),s.setAttribute("class","avivid_push_banner"),s.style.display="block";var r=document.createElement("img");r.setAttribute("class","avivid_icon"),r.setAttribute("src",e),e=document.createElement("input"),e.setAttribute("class","avivid_button_1"),e.setAttribute("type","button"),e.setAttribute("onclick","AviviD.trigger_requestPermission('access')"),e.setAttribute("value",n),n=document.createElement("input"),n.setAttribute("class","avivid_button_2"),n.setAttribute("type","button"),n.setAttribute("onclick","AviviD.trigger_requestPermission('denied')"),n.setAttribute("value",o),o=document.createElement("p"),o.setAttribute("style","position:relative; bottom: 0px; font-size: 10px;"),o.innerHTML="Powered by likr®";var a=document.createElement("p");a.setAttribute("class","avivid_title"),a.innerHTML=i,i=document.createElement("p"),i.setAttribute("class","avivid_content"),i.innerHTML=t,AviviD.console(s),AviviD.console(document.body),document.body.appendChild(s),s.appendChild(r),s.appendChild(e),s.appendChild(n),s.appendChild(o),s.appendChild(a),s.appendChild(i)},AviviD.trigger_safari_requestPermission=function(e){"access"==e?(document.getElementById("avivid_requestPermission").style.display="none",0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?AviviD.regSafari():AviviD.console("AviviD token exist")):document.getElementById("avivid_requestPermission").style.display="none"},AviviD.trigger_requestPermission=function(e){"access"==e?(document.getElementById("avivid_requestPermission").style.display="none",0==(null!=AviviD.get_cookie("AviviD_already_exist")?AviviD.get_cookie("AviviD_already_exist"):0)?AviviD.requestPermissionFCM():AviviD.console("AviviD token exist")):document.getElementById("avivid_requestPermission").style.display="none"},AviviD.popcorn_exist=function(e){if(100>e++)if(document.getElementById("AviviD_popcorn")||document.getElementById("AviviD_popcorn_list_button")){var i=document.createElement("script");i.src="https://workhouse.likr.tw/popcorn/js/popcorn.js",document.getElementsByTagName("head")[0].appendChild(i)}else setTimeout(function(){AviviD.popcorn_exist(e)},50)},AviviD.popcorn_ready=function(e){if("function"==typeof AviviD.main_popcorn)AviviD.main_popcorn();else{if(100<e)return 0;setTimeout(function(){AviviD.popcorn_ready(e+1)},100)}};var coupon_flag=-1;AviviD.coupon_flag=function(){window.postMessage&&(window.attachEvent?window.attachEvent("onmessage",function(e){document.getElementById("Avivid_iframe_atlas")&&(0===parseInt(e.data,10)?document.getElementById("Avivid_iframe_atlas").contentWindow.postMessage("getcoupon_mode","*"):0<e.data.toString().indexOf("coupon_mode")&&(coupon_flag=parseInt(e.data,10),0<coupon_flag?document.getElementById("AviviD_popcorn_list_button_div")||(document.getElementById("Avivid_iframe_atlas_div").style.display="block"):document.getElementById("Avivid_iframe_atlas_div")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="none"))),document.getElementById("Avivid_iframe_atlas_div")&&0<=e.data.toString().indexOf("iframe_atlasClose")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="none"),"middle_banner_frame"==e.data&&document.getElementById("Avivid_iframe_achang_middle")&&(document.getElementById("Avivid_iframe_achang_middle").style.display="none",window.setTimeout(function(){document.getElementById("Avivid_iframe_achang_middle").style.display="none"},500),window.setTimeout(function(){document.getElementById("Avivid_iframe_achang_middle").style.display="none"},1e3))}):window.addEventListener("message",function(e){document.getElementById("Avivid_iframe_atlas")&&(0===parseInt(e.data,10)?document.getElementById("Avivid_iframe_atlas").contentWindow.postMessage("getcoupon_mode","*"):0<e.data.toString().indexOf("coupon_mode")&&0<(coupon_flag=parseInt(e.data,10))&&!document.getElementById("AviviD_popcorn_list_button_div")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="block")),document.getElementById("Avivid_iframe_atlas_div")&&0<=e.data.toString().indexOf("iframe_atlasClose")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="none"),"middle_banner_frame"==e.data&&document.getElementById("Avivid_iframe_achang_middle")&&(document.getElementById("Avivid_iframe_achang_middle").style.display="none",window.setTimeout(function(){document.getElementById("Avivid_iframe_achang_middle").style.display="none"},500),window.setTimeout(function(){document.getElementById("Avivid_iframe_achang_middle").style.display="none"},1e3))},!1))},AviviD.coupon_controller=function(){if("pixnet"!=AviviD.web_id){if(document.getElementById("Avivid_iframe_atlas_div")||document.getElementById("Avivid_iframe_achang_middle")){var e=JSON.stringify({web_id:AviviD.web_id});jQuery.ajax({url:"https://atlas.likr.app/api/get_coupon_controller.php",type:"POST",dataType:"json",data:{json_data:e},success:function(e){console.log(e),document.getElementById("AviviD_popcorn_list_button_div")||(1==e?document.getElementById("Avivid_iframe_achang_middle")&&(document.getElementById("Avivid_iframe_achang_middle").style.display="block"):2==e?document.getElementById("Avivid_iframe_atlas_div")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="block"):3==e&&(document.getElementById("Avivid_iframe_achang_middle").style.display="block",document.getElementById("Avivid_iframe_atlas_div").style.display="block"))},error:function(e,i,t){console.log("xhr :",e),console.log("ajaxOptions :",i),console.log("thrownError :",t),console.log("status code : "+e.status+" , ajaxOptions : "+i)}})}}else!document.getElementById("AviviD_popcorn_list_button_div")&&document.getElementById("Avivid_iframe_atlas_div")&&(document.getElementById("Avivid_iframe_atlas_div").style.display="block")},AviviD.onpage_push=function(){navigator.serviceWorker.getRegistrations().then(function(e){var i,t,n;return $jscomp.asyncExecutePromiseGeneratorProgram(function(o){return 1==o.nextAddress?(AviviD.console("getRegistrations :",e),e?(i=e[0],AviviD.console("useServiceWorker :",i),t=0==AviviD.received%2?"landing":"browsing",o.yield(AviviD.getOnpageData(t),3)):o.jumpTo(0)):5!=o.nextAddress?(n=o.yieldResult,"_"==n.title?o.return():o.yield(i.getNotifications().then(function(e){e.forEach(function(e){setTimeout(e.close.bind(e),500)})}),5)):o.return(i.showNotification(n.title,n.content))})})},AviviD.getOnpageData=function(e){var i,t,n,o,s,r,a,v,l,_,c,d,u,m,p,g,b,A,D,w,f,h,y,x,k,S,I;return $jscomp.asyncExecutePromiseGeneratorProgram(function(j){return 1==j.nextAddress?(o="_",t="點擊觀看更多資訊",n=AviviD.settings.icon_path,i="https://www.likr.com.tw/",s=null!=AviviD.get_cookie("AviviD_ad_id")?AviviD.get_cookie("AviviD_ad_id"):"_",r=AviviD.UAResult,a={is_crescent:AviviD.settings.is_crescent,received:AviviD.received,title:AviviD.title,page_view:AviviD.page_view_num,uuid:AviviD.uuid,web_id:AviviD.web_id,onpage_type:e,website_type:AviviD.settings.website_type,browser_ver:r.browser.version,os_ver:r.os.version,user_agent:r.ua,client_href:window.location.href,os_type:AviviD.int_os_type,browser_type:AviviD.int_browser_type,ad_id:s},v={},l=AviviD.createUrlObject("https://load-balancer.likr.com.tw/api/get_onpage_data.php",a),_=fetch(l).then(function(e){if(200!==e.status)throw Error("error code: "+e.status);return e.json()}).then(function(e){return e}).catch(function(e){return console.error("error:",e)}),j.yield(_,2)):(c=j.yieldResult,"no_ad_id"!=c.ad_id&&null!=c.ad_id&&(s="_"==s?c.ad_id:s+","+c.ad_id,d=new Date,u=d.getFullYear(),m=d.getMonth()+1,p=d.getDate(),g=u+"/"+m+"/"+p,b=new Date(g+" 23:59:59"),A=d.getTime(),D=b.getTime(),w=(D-A)/1e3/60,AviviD.set_cookie_minutes("AviviD_ad_id",s,Math.floor(w))),f=c.title,h=c.msg,y=c.icon,x=c.image,k=c.click_url,AviviD.msg_source=c.msg_source,S=c.content_id,v.title=f||o,I={},I.body=h||t,I.icon=y||n,I.image=x||"",I.requireInteraction=!0,I.data={web_id:AviviD.web_id,uuid:AviviD.uuid,click_url:k||i,content_id:S||"default_content",msg_source:"onpage"},I.image||delete I.image,v.content=I,AviviD.received+=1,j.return(v))})},AviviD.page_view=function(){AviviD.page_view_num=parseInt(AviviD.get_cookie("page_view"),10)+1||1,10==AviviD.page_view_num&&(AviviD.page_view_num=0),AviviD.set_cookie_days("page_view",AviviD.page_view_num,1)},AviviD.uuid=AviviD.get_uuid(),AviviD.coupon_flag(),setTimeout(function(){AviviD.coupon_controller()},1e4),AviviD.loadScript=function(e,i){switch(i=void 0===i?null:i,type=e.split(".").reverse()[0],type){case"js":var t=document.createElement("script");t.type="text/javascript",t.src=e;break;case"css":t=document.createElement("link"),t.rel="stylesheet",t.type="text/css",null!=i&&(t.id=i),t.href=e}document.head.appendChild(t)},AviviD.compensation_subscribe=function(e){switch(e){case"accept":AviviD.set_cookie("AviviD_show_sub","1"),AviviD.waterfall_disappear("avivid_waterfall_subscribe"),e="https://"+AviviD.web_id+".likr.com.tw/pushEndPoint/subscribe/v2/sub.html?web_id="+AviviD.web_id+"&client_href="+AviviD.client_href+"&avivid_regid="+AviviD.avivid_regid+"&category_id="+AviviD.category_id,AviviD.debugLog("go_to_subscribe :",e),window.open(e,AviviD.web_id+"_"+AviviD.category_id,"height=130, width=320, left=100, top=50");break;case"block":AviviD.set_cookie("AviviD_show_sub","1",7),AviviD.waterfall_disappear("avivid_waterfall_subscribe"),AviviD.waterfall_disappear("avivid_waterfall_subscribe_setting")}},AviviD.compensation=function(){var e=null!=AviviD.get_cookie("AviviD_show_sub")?AviviD.get_cookie("AviviD_show_sub"):0;"1"===AviviD.settings.compensation_enable&&"1"===AviviD.settings.native_enable&&"0"===AviviD.settings.banner_native&&"1"!=e&&(AviviD.messaging&&AviviD.waterfall_subscribe_module&&AviviD.highest_zindex&&AviviD.subscribe_waterfall?AviviD.messaging.getToken().then(function(e){AviviD.console("token exists")}).catch(function(e){AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe"),AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush"),jQuery("html").append(AviviD.waterfall_subscribe_module(1,"AviviD.compensation_subscribe")),AviviD.highest_zindex("avivid_waterfall"),AviviD.subscribe_waterfall(screen.width,"avivid_waterfall_subscribe")}):setTimeout(function(){AviviD.compensation()},500))},AviviD.banner_old=function(){"1"!=(null!=AviviD.get_cookie("AviviD_show_sub")?AviviD.get_cookie("AviviD_show_sub"):0)&&(AviviD.waterfall_subscribe_module&&AviviD.highest_zindex&&AviviD.subscribe_waterfall?(AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_subscribe_v2.css","AviviD_waterfall_subscribe"),AviviD.loadScript("https://avivid.likr.tw/api/avivid_waterfall_webpush.css","AviviD_waterfall_webpush"),jQuery("html").append(AviviD.waterfall_subscribe_module(1,"AviviD.compensation_subscribe")),
AviviD.highest_zindex("avivid_waterfall"),AviviD.subscribe_waterfall(screen.width,"avivid_waterfall_subscribe")):setTimeout(function(){AviviD.banner_old()},500))},AviviD.construct(AviviD.main)}AviviD.popcorn_exist(0),AviviD.popcorn_ready(0);var popcorn_div,bottom_coupon_div,middle_coupon_div,isBottomCouponShow=0,isMiddleCouponShow=0,scroll_flag=0,isBottomCouponShow_same=0,isMiddleCouponShow_same=0;document.addEventListener("scroll",function(){popcorn_div=document.getElementById("AviviD_popcorn_list_button_div"),bottom_coupon_div=document.getElementById("Avivid_iframe_atlas_div");var e=document.documentElement.scrollTop||document.body.scrollTop||0,i=document.getElementById("Avivid_iframe_achang_middle")?document.getElementById("Avivid_iframe_achang_middle").offsetTop:1e4;void 0!==popcorn_div&&null!=popcorn_div&&void 0!==bottom_coupon_div&&null!=bottom_coupon_div?document.getElementById("AviviD_popcorn_list_button")&&document.getElementById("Avivid_iframe_atlas_div")&&(e<.2*document.body.scrollHeight?(document.getElementById("Avivid_iframe_atlas_div").style.bottom="-100px",scroll_flag=0):(0!=isBottomCouponShow||2!=coupon_flag&&3!=coupon_flag||(post_coupon_impression("bottom"),isBottomCouponShow=1),0==isBottomCouponShow_same&&1==coupon_flag&&(post_coupon_impression_same("bottom"),isBottomCouponShow_same=1),0==scroll_flag&&(jQuery("#Avivid_iframe_atlas_div").stop().animate({bottom:"35px"},1e3),scroll_flag=1))):void 0!==bottom_coupon_div&&null!=bottom_coupon_div&&(0!=isBottomCouponShow||2!=coupon_flag&&3!=coupon_flag||(post_coupon_impression("bottom"),isBottomCouponShow=1),0==isBottomCouponShow_same&&1==coupon_flag&&(post_coupon_impression_same("bottom"),isBottomCouponShow_same=1)),void 0!==(middle_coupon_div=document.getElementById("Avivid_iframe_achang_middle"))&&null!=middle_coupon_div&&(i>e+window.innerHeight&&i+320>e&&0==isMiddleCouponShow&&(2==coupon_flag||3==coupon_flag)&&(post_coupon_impression("middle"),isMiddleCouponShow=1),i>e+window.innerHeight&&i+320>e&&0==isMiddleCouponShow_same&&1==coupon_flag&&(post_coupon_impression_same("middle"),isMiddleCouponShow_same=1))}),window.addEventListener("message",function(e){"middle_banner_frame"==e.data&&document.getElementById("Avivid_iframe_achang_middle")&&(document.getElementById("Avivid_iframe_achang_middle").style.display="none")}),has_coupon=1,window.addEventListener("message",function(e){"bottom_banner_frame"==e.data&&document.getElementById("avivid_atlas_footer")&&(document.getElementById("avivid_atlas_footer").style.display="none",has_coupon=0)}),AviviD.loadScript("https://avivid.likr.tw/api/ios_water_webpush_v11.js"),function(e,i,t,n){e.jQuery||(e=i.getElementsByTagName(t)[0]||i.getElementsByTagName("head")[0],i=i.createElement(t),i.type="text/javascript",i.src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js",e.parentNode.insertBefore(i,e))}(window,document,"script"),"undefined"==typeof UAParser&&function(e,i){var t={extend:function(e,i){var t,n={};for(t in e)n[t]=i[t]&&0==i[t].length%2?i[t].concat(e[t]):e[t];return n},has:function(e,i){return"string"==typeof e&&-1!==i.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},n=function(e,t){for(var n,o,s,r,a,v,l=0;l<t.length&&!a;){var _=t[l],c=t[l+1];for(n=o=0;n<_.length&&!a;)if(a=_[n++].exec(e))for(s=0;s<c.length;s++)v=a[++o],r=c[s],"object"==typeof r&&0<r.length?2==r.length?this[r[0]]="function"==typeof r[1]?r[1].call(this,v):r[1]:3==r.length?this[r[0]]="function"!=typeof r[1]||r[1].exec&&r[1].test?v?v.replace(r[1],r[2]):i:v?r[1].call(this,v,r[2]):i:4==r.length&&(this[r[0]]=v?r[3].call(this,v.replace(r[1],r[2])):i):this[r]=v||i;l+=2}},o=function(e,n){for(var o in n)if("object"==typeof n[o]&&0<n[o].length){for(var s=0;s<n[o].length;s++)if(t.has(n[o][s],e))return"?"===o?i:o}else if(t.has(n[o],e))return"?"===o?i:o;return e},s={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},r={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/(headlesschrome) ([\w\.]+)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",o,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",t.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",t.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",t.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",o,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",o,{HTC:"APA",Sprint:"Sprint"}],["model",o,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",t.trim],["model",t.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor","Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",t.lowerize],"vendor","model"],[/(android.+)[;\/].+build/i],["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",o,s]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",o,s]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},a=function(e,i){this.name=e,this.version=i},v=function(e){this.architecture=e},l=function(e,i,t){this.vendor=e,this.model=i,this.type=t},_=function(o,s){if("object"==typeof o&&(s=o,o=i),!(this instanceof _))return new _(o,s).getResult();var c=o||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),d=s?t.extend(r,s):r,u=new a,m=new v,p=new l,g=new a,b=new a;return this.getBrowser=function(){return n.call(u,c,d.browser),u.major=t.major(u.version),u},this.getCPU=function(){return n.call(m,c,d.cpu),m},this.getDevice=function(){return n.call(p,c,d.device),p},this.getEngine=function(){return n.call(g,c,d.engine),g},this.getOS=function(){return n.call(b,c,d.os),b},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return c},this.setUA=function(e){return c=e,u=new a,m=new v,p=new l,g=new a,b=new a,this},this};_.VERSION="0.7.14",_.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},_.CPU={ARCHITECTURE:"architecture"},_.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},_.ENGINE={NAME:"name",VERSION:"version"},_.OS={NAME:"name",VERSION:"version"},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports.UAParser=_):"function"==typeof define&&define.amd?e.UAParser=_:e&&(e.UAParser=_);var c=e&&(e.jQuery||e.Zepto);if(void 0!==c){var d=new _;c.ua=d.getResult(),c.ua.get=function(){return d.getUA()},c.ua.set=function(e){d.setUA(e),e=d.getResult();for(var i in e)c.ua[i]=e[i]}}}("object"==typeof window?window:this),void 0===AviviD.UAParser&&(AviviD.UAParser=new UAParser,AviviD.UAResult=AviviD.UAParser.getResult()),"function"!=typeof AviviD.construct&&(AviviD.track_construct=function(e){window.jQuery?e():setTimeout(function(){AviviD.track_construct(e)},500)}),"function"!=typeof AviviD.main&&(AviviD.main=function(){AviviD.str_os_type=AviviD.detect_os_type(),AviviD.int_os_type=AviviD.trans_os_type_to_number(AviviD.str_os_type),AviviD.str_browser_type=AviviD.detect_browser_type(),AviviD.int_browser_type=AviviD.trans_browser_type_to_number(AviviD.str_browser_type),AviviD.client_href=encodeURIComponent(window.location.href),AviviD.geolocation={latitude:null,longitude:null,get_interval:1e4},AviviD.settings.ip_enable=void 0!=AviviD.settings.ip_enable?AviviD.settings.ip_enable:1,"1"===AviviD.settings.ip_enable?AviviD.run_tracking_data():(AviviD.clientIP="_",AviviD.tracking_job())}),AviviD.tracking_job=function(){AviviD.tracking_data_ajax("landing",document.referrer,window.location.href,"_",AviviD.clientIP,AviviD.int_os_type,AviviD.int_browser_type),AviviD.track_click_event=window.addEventListener("click",function(e){e=e.target.href;var i=window.location.href;void 0!==e&&AviviD.tracking_data_ajax("click","_",i,e,AviviD.clientIP,AviviD.int_os_type,AviviD.int_browser_type)},!1),AviviD.track_leave_event=window.addEventListener("beforeunload",function(e){AviviD.tracking_data_ajax("leave","_",window.location.href,"_",AviviD.clientIP,AviviD.int_os_type,AviviD.int_browser_type)},!1)},AviviD.tracking_data_ajax=function(e,i,t,n,o,s,r){null!==AviviD.geolocation.latitude&&null!==AviviD.geolocation.longitude&&(o=AviviD.geolocation.latitude+";"+AviviD.geolocation.longitude),e=JSON.stringify({web_id:AviviD.web_id,uuid:AviviD.uuid,behavior_type:e,referrer_url:i,current_url:t,click_url:n,user_ip:o,os_type:s,browser_type:r,tracking_platform:AviviD.tracking_platform,title:void 0!=AviviD.title?AviviD.title:"_"}),jQuery.ajax({type:"POST",data:{json_data:e},url:"https://elephant.likr.com.tw/elephant_api/php_redis.php",dataType:"json",success:function(e){},error:function(e,i,t){}})},"function"!=typeof AviviD.detect_is_mobile&&(AviviD.detect_is_mobile=function(e){return"Android"==e||"iOS"==e}),"function"!=typeof AviviD.detect_os_type&&(AviviD.detect_os_type=function(){return AviviD.UAResult.os.name}),"function"!=typeof AviviD.trans_os_type_to_number&&(AviviD.trans_os_type_to_number=function(e){switch(e){case"Android":return"1";case"iOS":return"2";case"Mac OS":return"3";case"Windows":return"4";default:return"9"}}),"function"!=typeof AviviD.detect_browser_type&&(AviviD.detect_browser_type=function(){var e=null!=navigator.userAgent.match(/line/i),i="iOS"==AviviD.UAResult.os.name;return e?"LINE":i?"iOS":AviviD.UAResult.browser.name}),"function"!=typeof AviviD.trans_browser_type_to_number&&(AviviD.trans_browser_type_to_number=function(e){switch(e){case"Chrome":return"1";case"Firefox":return"2";case"Safari":return"3";case"iOS":return"4";case"IE":return"5";case"Edge":return"6";case"Samsung Browser":return"8";default:return"9"}}),AviviD.run_tracking_data=function(){jQuery.ajax({url:"https://load-balancer.likr.com.tw/pushServer/get_client_ip_for_ring.php",type:"POST",dataType:"json",success:function(e){AviviD.clientIP=e,AviviD.tracking_job()},error:function(e,i,t){}})},"function"!=typeof AviviD.get_urlparam&&(AviviD.get_urlparam=function(e){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),e=window.location.search.substr(1).match(e),null!=e?unescape(e[2]):null}),"function"!=typeof AviviD.get_cookie&&(AviviD.get_cookie=function(e){return e=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)")),null!=e?unescape(e[2]):null}),"function"!=typeof AviviD.empty&&(AviviD.empty=function(e){if("number"==typeof e||"boolean"==typeof e)return!1;if("null"===e||"undefined"===e||void 0===e||null===e)return!0;if(void 0!==e.length)return 0==e.length;var i,t=0;for(i in e)e.hasOwnProperty(i)&&t++;return 0==t}),"function"!=typeof AviviD.get_uuid&&(AviviD.get_uuid=function(){if(AviviD.status.is_new_user_uuid="0",AviviD.get_urlparam("likr_id"))try{var e=window.atob(AviviD.get_urlparam("likr_id"));AviviD.set_cookie("AviviD_uuid",e),AviviD.set_cookie("uuid",e),AviviD.status.is_new_user_uuid="1",AviviD.uuid=e}catch(e){AviviD.set_cookie("AviviD_uuid","")}if(e=AviviD.get_cookie("AviviD_uuid"),!AviviD.empty(e))return e;window.addEventListener("message",function(e){AviviD.uuid_origin=e.origin,"https://auto-load-balancer.likr.com.tw"===AviviD.uuid_origin&&(e=e.data,AviviD.set_cookie("AviviD_uuid",e),AviviD.status.is_new_user_uuid="1",AviviD.uuid=e)},!1),e=document.createElement("iframe"),e.src="https://auto-load-balancer.likr.com.tw/pushEndPoint/uuid_gen/uuid_iframe.php",e.style="display:none",document.body?document.body.appendChild(e):setTimeout(function(){AviviD.get_uuid()},500)}),"function"!=typeof AviviD.set_cookie&&(AviviD.set_cookie=function(e,i,t){var n=AviviD.get_top_domain();t=t||3650;var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie=e+"="+escape(i)+";expires="+o.toGMTString()+";domain="+n+";path=/"}),"function"!=typeof AviviD.get_top_domain&&(AviviD.get_top_domain=function(){var e=window.location.host,i=e.split(".").length,t=e.split(".").reverse();return"2">=i?e:"3"==i?"com"===t[1]?e:t[1]+"."+t[0]:"4"==i&&"com"===t[0]?t[1]+"."+t[0]:t[2]+"."+t[1]+"."+t[0]}),"function"!=typeof AviviD.analysis&&(AviviD.analysis=function(e,i){var t=JSON.stringify({uuid:AviviD.uuid,deal_type:e,price:void 0===i?null:i});jQuery.ajax({url:"https://elephant.likr.com.tw/elephant_api/crescent_analysis_redis.php",type:"POST",dataType:"json",data:{json_data:t},success:function(e){console.log(e)},error:function(e,i,t){}})}),AviviD.continus_run_jquery=function(){window.jQuery?"1"===AviviD.settings.ip_enable?AviviD.run_tracking_data():(AviviD.clientIP="_",AviviD.tracking_job()):setTimeout(function(){AviviD.continus_run_jquery()},500)},"function"==typeof AviviD.track_construct?(AviviD.uuid=AviviD.get_uuid(),AviviD.track_construct(AviviD.main)):(void 0==AviviD.uuid&&(AviviD.uuid=AviviD.get_cookie("AviviD_uuid")),AviviD.geolocation={latitude:null,longitude:null,get_interval:1e4},AviviD.settings.ip_enable=void 0!=AviviD.settings.ip_enable?AviviD.settings.ip_enable:1,AviviD.continus_run_jquery());